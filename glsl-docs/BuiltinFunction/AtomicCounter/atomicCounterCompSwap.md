
Atomically

1. compares the value of compare and the counter value for c
2. if the values are equal, sets the counter value for c to the value of data, and
3. returns its value prior to the operation.

These three steps are done atomically with respect to the atomic counter functions in this table.